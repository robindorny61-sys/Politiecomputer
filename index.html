<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <title>Politiecomputer â€“ Arrestantendossiers</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #1a1a1a;
      color: #f2f2f2;
    }
    h1, h2, h3 {
      color: #00ccff;
    }
    input, select, textarea, button {
      margin: 5px 0;
      padding: 8px;
      width: 100%;
      border: none;
      border-radius: 4px;
    }
    input, select, textarea {
      background-color: #2b2b2b;
      color: #f2f2f2;
    }
    button {
      background-color: #00ccff;
      color: black;
      font-weight: bold;
    }
    .container {
      display: flex;
      gap: 30px;
    }
    .panel {
      flex: 1;
      background-color: #2b2b2b;
      padding: 20px;
      border-radius: 8px;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li button {
      background: none;
      color: #00ccff;
      text-align: left;
      padding: 4px 0;
      border: none;
      cursor: pointer;
    }
    .label {
      font-weight: bold;
      margin-top: 10px;
    }
    hr {
      border: 1px solid #444;
      margin: 20px 0;
    }
  </style>
</head>
<body>
  <h1>ðŸ‘® Politiecomputer â€“ Arrestantendossiers</h1>
  <div class="container">
    <div class="panel">
      <h2>ðŸ“‹ Arrestantenlijst</h2>
      <ul id="lijst"></ul>

      <hr />
      <h3>âž• Nieuw dossier toevoegen</h3>
      <input id="naam" placeholder="Naam" />
      <input id="geboortedatum" type="date" />
      <input id="arrestatieDatum" type="date" />
      <input id="delict" placeholder="Delict (bv. Diefstal)" />
      <input id="straf" placeholder="Straf (bv. 12 maanden)" />
      <select id="status">
        <option value="In afwachting">In afwachting</option>
        <option value="Veroordeeld">Veroordeeld</option>
        <option value="Vrijgelaten">Vrijgelaten</option>
      </select>
      <textarea id="opmerkingen" placeholder="Opmerkingen" rows="3"></textarea>
      <button onclick="voegToe()">Toevoegen</button>
    </div>

    <div class="panel">
      <h2>ðŸ“„ Dossierdetails</h2>
      <div id="dossierDetails">Selecteer een arrestant om het dossier te bekijken.</div>
    </div>
  </div>

  <script>
    let arrestanten = JSON.parse(localStorage.getItem('arrestanten')) || [];
    let geselecteerd = null;

    function opslaan() {
      localStorage.setItem('arrestanten', JSON.stringify(arrestanten));
      toonLijst();
    }

    function toonLijst() {
      const lijst = document.getElementById('lijst');
      lijst.innerHTML = '';
      arrestanten.forEach((a, i) => {
        const li = document.createElement('li');
        const btn = document.createElement('button');
        btn.textContent = `${a.naam} (${a.status})`;
        btn.onclick = () => toonDossier(i);
        li.appendChild(btn);
        lijst.appendChild(li);
      });
    }

    function toonDossier(index) {
      geselecteerd = index;
      const a = arrestanten[index];
      const el = document.getElementById('dossierDetails');
      el.innerHTML = `
        <div class="label">Naam:</div> ${a.naam}
        <div class="label">Geboortedatum:</div> ${a.geboortedatum}
        <div class="label">Datum van arrestatie:</div> ${a.arrestatieDatum}
        <div class="label">Delict:</div> ${a.delict}
        <div class="label">Straf:</div> ${a.straf}
        <div class="label">Status:</div>
        <select id="statusUpdate">
          <option value="In afwachting" ${a.status === 'In afwachting' ? 'selected' : ''}>In afwachting</option>
          <option value="Veroordeeld" ${a.status === 'Veroordeeld' ? 'selected' : ''}>Veroordeeld</option>
          <option value="Vrijgelaten" ${a.status === 'Vrijgelaten' ? 'selected' : ''}>Vrijgelaten</option>
        </select>
        <div class="label">Opmerkingen:</div>
        <textarea id="opmUpdate" rows="3">${a.opmerkingen}</textarea>
        <br />
        <button onclick="updateDossier()">Wijzigingen opslaan</button>
      `;
    }

    function voegToe() {
      const naam = document.getElementById('naam').value;
      const geboortedatum = document.getElementById('geboortedatum').value;
      const arrestatieDatum = document.getElementById('arrestatieDatum').value;
      const delict = document.getElementById('delict').value;
      const straf = document.getElementById('straf').value;
      const status = document.getElementById('status').value;
      const opmerkingen = document.getElementById('opmerkingen').value;

      if (!naam || !geboortedatum || !arrestatieDatum || !delict || !straf) {
        alert("Vul alle verplichte velden in.");
        return;
      }

      arrestanten.push({ naam, geboortedatum, arrestatieDatum, delict, straf, status, opmerkingen });
      opslaan();

      // Velden leegmaken
      ['naam', 'geboortedatum', 'arrestatieDatum', 'delict', 'straf', 'opmerkingen'].forEach(id => document.getElementById(id).value = '');
    }

    function updateDossier() {
      const status = document.getElementById('statusUpdate').value;
      const opmerkingen = document.getElementById('opmUpdate').value;
      if (geselecteerd !== null) {
        arrestanten[geselecteerd].status = status;
        arrestanten[geselecteerd].opmerkingen = opmerkingen;
        opslaan();
        toonDossier(geselecteerd);
      }
    }

    toonLijst();
  </script>
</body>
</html>
